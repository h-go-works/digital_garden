---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'



# 用户注册系统所有权转移

```rust
fn main() {
    // 1. 创建一个 String 类型的用户名，变量 s1 是它的所有者
    let s1 = String::from("user_A");

    // 2. 将 s1 赋值给 s2
    let s2 = s1;

    // 3. 尝试打印 s1 和 s2
    println!("s2 is: {}", s2);
    // 下面这行代码会报错！
    // println!("s1 is: {}", s1); 
}
```

# Excalidraw Data

## Text Elements
[[rust_标量类型_20250930112235.excalidraw]] 不会出现所有权转移 ^jtTdClS0

[[rust_复合类型_20250930112327.excalidraw]] 会出现所有权转移 ^ZkbatTdX

? rust为啥不直接复制一份给s2 ^6xWnKdx0

[[rust_标量类型_20250930112235.excalidraw]] ^DsEaiOXc

[[rust_复合类型_20250930112327.excalidraw]]的数据，它包含的文本内容（比如 "user_A"）是存储在内存的“堆”（Heap）上的，它的大小在编译时是不确定的，可能会非常大。如果每次赋值都完整地把堆上的数据复制一份（这叫“深拷贝”），当数据量很大时（想象一下一个包含整本书内容的字符串），会造成巨大的性能开销 ^DpiPiZHr

而“转移”操作，实际上只是在“栈”（Stack）上复制了指向数据的指针和一些元数据（比如长度和容量），这是一个非常非常快的操作，成本极低 ^DotOCDvd

## Element Links
bpkpQwT9: [[rust_所有权转移_20250930084008.excalidraw.md#用户注册系统所有权转移]]

%%
## Drawing
```compressed-json
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
```
%%