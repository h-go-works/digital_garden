---
aliases:
tags:
data:
---

### 什么是 [[智能指针]]？

首先，我们来回忆一下普通的“[[引用]] (`&`)”。引用是“[[借用]]”数据，它只是一个指向数据的地址，但并不“拥有”数据。

**智能指针**，则是一些特殊的结构体。它们也像引用一样，可以“指向”其他数据。但不同的是，它们通常**拥有**所指向的数据，并且还附带了一些额外的“超能力”（元数据和功能）。

**一个简单的比喻：**

- **普通引用 (`&`)** 就像一张“临时访客卡”。你可以用它进入大楼，但你不能决定大楼什么时候拆除，卡片到期了就得还回去。
    
- **智能指针** 就像一张“房产证”。你不仅能进出这栋房子，你还拥有它，并且负责决定它的一切（包括何时“拆除”——释放内存）。

基础、最常见的智能指针 `Box<T>` 开始。

它的“超能力”只有一个，但非常重要：**[[Box<T>]]  可以把数据强制存储在“[[堆 (Heap)]]”上，而不是“[[栈 (Stack)]]”上。**